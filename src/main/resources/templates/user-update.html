<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<meta charset="UTF-8">
<head>
    <meta charset="UTF-8">
    <title>Create user</title>
    <link rel="stylesheet" href="https://snipp.ru/cdn/bootstrap/4.3/bootstrap.min.css">
    <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script>
        function submitForm() {
            let data = {
                id: document.getElementById('id').value,
                username: document.getElementById('username').value,
                firstname: document.getElementById('firstname').value,
                lastname: document.getElementById('lastname').value,
                age: document.getElementById('age').value
            };
            let xhr = new XMLHttpRequest();
            xhr.open('POST', 'http://localhost:8080/manager/user-update', true);
            xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
            xhr.send(JSON.stringify(data));
            window.location.href = 'http://localhost:8080/manager/users'
        }
    </script>
</head>
<body>
<form id="post" th:object="${user}">
    <h2>Update User</h2>
    <label for="id">Id</label>
    <input readonly type="text" id="id" th:field="*{id}" placeholder="Id">
    <br>
    <label for="username">Username</label>
    <input type="text" id="username" th:field="*{username}" placeholder="Username">
    <br>
    <label for="firstname">First name</label>
    <input type="text" name="firstname" th:field="*{firstname}" id="firstname" placeholder="First Name">
    <br>
    <label for="lastname">Last name</label>
    <input type="text" name="lastname" th:field="*{lastname}" id="lastname" placeholder="Last Name">
    <br>
    <label for="age">Last name</label>
    <input type="text" name="age" th:field="*{age}" id="age" placeholder="Age">
    <br>
</form>
<button onclick="submitForm()" id="button">Update User</button>
</body>
</html>